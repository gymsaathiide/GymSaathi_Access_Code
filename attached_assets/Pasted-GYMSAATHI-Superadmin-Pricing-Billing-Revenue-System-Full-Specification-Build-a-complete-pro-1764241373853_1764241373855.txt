GYMSAATHI ‚Äì Superadmin Pricing, Billing & Revenue System (Full Specification)

Build a complete, production-ready Superadmin Billing + Revenue + Analytics system for Gymsaathi inside our existing multi-tenant gym ERP.

üî• 1. Pricing Model (Core Business Logic)

Gymsaathi has 2 pricing tiers only:

Plan A ‚Äì Standard

‚Çπ75 per active gym member

System must calculate:
revenue_per_gym = active_members √ó 75

Plan B ‚Äì Custom Plan

Custom rate set per gym (example: ‚Çπ120 per member)

System must calculate:
revenue_per_gym = active_members √ó custom_rate

Active members definition:

A member is active when:

membership_status = "active"

membership_end_date >= today

Inactive members must not count in billing.

üî• 2. Superadmin Dashboard (New Organized Home Screen)

Route: /superadmin

Replace current empty/unorganized dashboard with the following:

Header Section

Title: Gymsaathi HQ Dashboard

Subtitle: Organization-wide insights and billing overview

Date range selector: Today | This Week | This Month | Custom

Top KPI Row (4 cards)

Use the style of your Analytics cards (clean, rounded, subtle shadows):

Total Revenue (This Month)
Value = sum(revenue_per_gym for all gyms)
Subtext: trend vs last month (green or red)

Active Gyms
Count: gyms where status = active
Subtext: growth vs last month

Total Members Across Platform
Sum of all active members in all gyms

MRR (Monthly Recurring Revenue)
Formula: sum(active_members √ó rate_per_member)
Display projected revenue for next month

üî• 3. Revenue Analytics Page

Route: /superadmin/analytics

Charts & Insights
1. Revenue Trend (Last 6 Months)

Line/area chart

X-axis: months

Y-axis: revenue

Auto-recalculate using monthly active members

2. Platform Member Growth

Bar chart

X-axis: months

Y-axis: member count

3. Revenue Breakdown by Plan Type

Pie Chart:

% gyms using ‚Çπ75 plan

% gyms using custom plan

Show actual revenue share

4. Top Performing Gyms

Table:

Gym name

Active members

Rate type (75/custom)

Monthly billing amount

Sorted by highest revenue.

üî• 4. Superadmin ‚Üí Billing Module (Full System)

Route: /superadmin/billing

Billing Overview Cards

Same style as Billing ‚Üí Payments for Admin.

Total Revenue This Month

Paid Amount (if using Razorpay for payouts)

Pending Amount

Total Active Gyms

Gym-wise Billing Table

Columns:

Gym Name

Owner

Plan Type (‚Çπ75 or Custom X‚Çπ)

Active Members

Rate (‚Çπ)

Monthly Billing (auto-calculated)

Billing Cycle Start

Next Invoice Date

View Invoice

üî• Per-Gym Invoice Generation

For each gym system must create an invoice:

Invoice #GS-{gymId}-{month}{year}

Billing Type: Per-member billing
Active Members: X
Rate: ‚Çπ75 / or Custom
Total Amount: active_members √ó rate
Status: Pending / Paid
Payment Method: Cash / Razorpay / Manual


Gym owner sees invoice inside admin panel.
Superadmin sees all invoices.

üî• 5. Database Structure (Replit DB or Supabase)

Use Replit DB (as per your correction).

Keys to store:
Gyms
gym:{gymId} = {
  name,
  owner,
  planType: "standard" | "custom",
  rate: 75 or custom_value,
  activeMembers: number,
  createdAt,
  status: "active" | "suspended"
}

Invoices
invoice:{invoiceId} = {
  gymId,
  month,
  year,
  activeMembers,
  rate,
  total,
  status,
  generatedAt
}

Members
member:{memberId} = {
  gymId,
  status,
  membershipEnd
}


Platform revenue is never manually entered‚Äîalways calculated.

üî• 6. Automation Rules
Every night at 12 AM:

Count active members for each gym

Update activeMembers field in gym record

Recalculate projected revenue (MRR)

Every 1st of month at 12:01 AM:

Auto-create invoice for each gym

When a gym adds members:

Active member total updates instantly

The next invoice automatically reflects new number

üî• 7. UI Requirements (Match Your Existing Style)

Use the exact UI style seen in the screenshot you provided:

Left sidebar: white with icons

Cards: white, rounded, subtle shadows

Charts identical to analytics page

Tables identical to Billing Management page

Clean spacing, grid-based layout

Mobile responsive

Tablet responsive

Desktop full width

üî• 8. Extra Features to Add
Gym Suspended When Invoice Unpaid

If gym invoice unpaid for 15+ days:

auto suspend gym

members cannot login

trainers cannot login

admin sees ‚ÄúAccount Suspended ‚Äì Clear dues to continue‚Äù

Superadmin Manual Adjustments

Edit active members

Edit custom rate

Mark invoice paid manually (if cash/UPI)

üî• 9. Deliverables Required

Replit must generate:

Front-end (React + Vite + TS)

Superadmin dashboard

Billing page

Analytics page

Invoices page

Responsive layout for all screens

Backend (Express + TS)

Endpoints for billing

Revenue calculation

Invoice generation

Gyms/Members fetch

Cron jobs for monthly processes

Replit DB Storage

Charts (Recharts or similar)

Fully working billing logic