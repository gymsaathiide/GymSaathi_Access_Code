You are a senior full-stack engineer and system architect.

Context:
This project is a Gym ERP (GymSaathi) built as a multi-tenant SaaS.
Each member’s data must be strictly isolated.
We want to COMPLETELY REDESIGN the Workout Planner module.
You must NOT reuse the existing workout planner logic unless explicitly compatible.
If needed, you may delete or ignore the current workout planner code and rebuild cleanly.

Your task:
Design and implement a PRODUCTION-READY Workout Planner system based ONLY on the specifications below.
Do not add assumptions.
Do not generate fixed 7-day or 30-day plans.

--------------------------------------------------
1. MEMBER WORKOUT PLANNER – CORE PHILOSOPHY
--------------------------------------------------

This workout planner is NOT a pre-scheduled plan.
The member is free to choose what muscle group to train on any day.

Each workout session is:
- On-demand
- Muscle-group based
- Dynamically generated
- Logged as a report after completion

--------------------------------------------------
2. MEMBER ONBOARDING (MANDATORY – 3 STEPS)
--------------------------------------------------

When a member opens Workout Planner for the first time, onboarding is required.

Step 1: Fitness Goal  
- Example: fat loss, muscle gain, strength, general fitness

Step 2: Experience Level  
- beginner
- intermediate
- expert

Step 3: Training Priority  
- strength
- stamina
- flexibility

Store onboarding data in member profile.
Workout Planner cannot be accessed without onboarding completion.

--------------------------------------------------
3. HOME SCREEN (MEMBER APP)
--------------------------------------------------

Home screen must contain:

A) KPI Dashboard
- Member name
- Current weight (from latest report or profile)
- Height
- Any existing profile data already stored in the system
- Workout streak / activity indicator (based on reports)

B) Two main actions:
1. Training Session
2. Get Report

--------------------------------------------------
4. TRAINING SESSION FLOW
--------------------------------------------------

When member clicks "Training Session":

A) Show all muscle groups:
- Abs (70 exercises)
- Back (153)
- Biceps (38)
- Chest (64)
- Forearms (32)
- Glutes (168)
- Hip Flexors (20)
- Lower Abs (22)
- Neck (8)
- Posterior Thighs (99)
- Quads (96)
- Shoulders (150)
- Triceps (38)

These numbers reflect the exercise library size and must be respected in backend structure.

--------------------------------------------------
5. WORKOUT GENERATION RULES
--------------------------------------------------

When a member selects a muscle group:

A) Stretching (MANDATORY – FIRST STEP)
Stretching exercises must be suggested FIRST, from stretching library:

Stretching counts per muscle group:
- Abs: 9
- Back: 21
- Biceps: 1
- Chest: 8
- Forearms: 0
- Glutes: 15
- Hip Flexors: 12
- Lower Legs: 8
- Neck: 8
- Posterior Thighs: 18
- Quads: 11
- Shoulders: 18
- Triceps: 1

Member can replace stretching exercises from the stretching library on the same screen.

--------------------------------------------------
B) Main Workout Exercises (LEVEL BASED)
--------------------------------------------------

Based on experience level:

- Beginner → 4–5 exercises
- Intermediate → 5–6 exercises
- Expert → 6–7 exercises

Rules:
- Exercises must come ONLY from that muscle group’s library.
- If the member has already trained this muscle group before,
  the system MUST rotate exercises and avoid repeating the same set.
- Exercise history per member + muscle group must be tracked.

Member can:
- Replace any suggested exercise from the same muscle group library
- Do this on the same workout screen (no navigation)

--------------------------------------------------
C) Cardio (OPTIONAL BUT ALWAYS SUGGESTED)
--------------------------------------------------

Cardio library (global, not muscle-specific):
- Assault bike
- Air bike
- Battle ropes
- Cross country
- Ski erg
- Cross trainer
- Elliptical
- Cycling
- Jump rope
- Rowing machine
- Running
- Stair climber
- Swimming
- Walking
- Zig-zag
- Sprint

Rules:
- Exactly ONE cardio exercise is suggested per workout
- Cardio is OPTIONAL
- Member can skip it
- Cardio choice must be logged if performed

--------------------------------------------------
6. WORKOUT COMPLETION & REPORTING
--------------------------------------------------

When workout is completed:

A workout report is saved containing:
- Date
- Muscle group
- Stretching exercises performed
- Main exercises performed
- Cardio (if done)
- Completion status

--------------------------------------------------
7. REPORTS & CALENDAR
--------------------------------------------------

"Get Report" screen must show:
- Workout history
- Day-wise reports
- Calendar view:
  - Green = workout completed
  - Red = no workout

Calendar is derived ONLY from saved workout reports.

--------------------------------------------------
8. EXERCISE LIBRARY (BACKEND)
--------------------------------------------------

You must design backend tables / schema for:
- Muscle groups
- Exercises
- Stretching exercises
- Cardio exercises
- Exercise-muscle mapping
- Member exercise history (for rotation)
- Workout sessions
- Workout reports

Library characteristics:
- Large volume (100+ exercises per muscle group)
- Centralized
- Editable ONLY by Superadmin

--------------------------------------------------
9. SUPERADMIN CONTROL
--------------------------------------------------

Superadmin can:
- Add / edit / delete exercises
- Update exercise descriptions, videos, instructions
- Manage stretching & cardio libraries

Changes must reflect immediately for all members.

--------------------------------------------------
10. SECURITY & DATA ISOLATION (MANDATORY)
--------------------------------------------------

Rules:
- A member can ONLY see their own workout data
- No cross-member or cross-gym access
- All workout queries must be scoped to:
  - memberId
  - gymId

No ID-based access without ownership verification.

--------------------------------------------------
11. IMPLEMENTATION EXPECTATIONS
--------------------------------------------------

Deliver:
1. Database schema design (tables + relations)
2. API endpoints (clear REST structure)
3. Workout generation logic (rotation-safe)
4. Report creation logic
5. Calendar logic
6. Clear separation of concerns
7. Production-ready, scalable design

Do NOT:
- Create fixed workout plans
- Assign workouts automatically by day
- Assume trainer involvement
- Reuse broken legacy workout planner logic

--------------------------------------------------
FINAL INSTRUCTION
--------------------------------------------------

Treat this as a GREENFIELD production feature.
Design clean.
Design scalable.
Design secure.
