:root{
  /* color tokens */
  --mp-orange-600: hsl(25, 95%, 52%);
  --mp-orange-500: hsl(25, 95%, 50%);
  --mp-orange-400: hsl(35, 95%, 55%);
  --mp-accent: hsl(20, 90%, 48%);
  --mp-muted: hsl(220,10%,65%);
  --mp-surface: rgba(255,255,255,0.04);
  --mp-surface-2: rgba(255,255,255,0.02);
  --mp-card-bg: #ffffff;
  --mp-card-text: hsl(15,80%,30%);
  --mp-shadow: 0 8px 30px rgba(2,6,23,0.5);

  /* spacing & sizing */
  --space-xs: 6px;
  --space-sm: 10px;
  --space-md: 16px;
  --space-lg: 24px;
  --radius-md: 12px;
  --radius-lg: 20px;

  /* typography */
  --font-base: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  --fs-sm: 0.8125rem; /*13px*/
  --fs-md: 0.9375rem; /*15px*/
  --fs-lg: 1.125rem;  /*18px*/
  --fw-600: 600;

  /* accessibility */
  --min-touch: 44px;
}

/* Page background */
.member-container {
  min-height: 100vh;
  background: linear-gradient(180deg, var(--mp-orange-600) 0%, var(--mp-accent) 100%);
  font-family: var(--font-base);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 72px); /* allow room for bottom nav */
}

/* Header */
.member-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 0.75rem 1rem;
  background: transparent;
  gap: var(--space-md);
}

/* Card */
.member-card{
  background: var(--mp-card-bg);
  color: #0b1220;
  border-radius: var(--radius-lg);
  padding: var(--space-md);
  box-shadow: var(--mp-shadow);
  border: 1px solid rgba(14, 20, 30, 0.04);
}

/* Card title */
.member-card-title{
  color: var(--mp-card-text);
  font-weight: var(--fw-600);
  font-size: var(--fs-sm);
  margin-bottom: 8px;
}

/* Calorie ring container */
.calorie-ring {
  position: relative;
  width: 120px;
  height: 120px;
  display:flex;
  align-items:center;
  justify-content:center;
  margin: 0 auto;
}
.calorie-ring svg {
  transform: rotate(-90deg);
  width: 100%;
  height: 100%;
}
.calorie-ring-bg{
  stroke: rgba(0,0,0,0.06);
  fill: none;
  stroke-width: 10;
}
.calorie-ring-progress{
  stroke: url(#orangeGradient);
  fill: none;
  stroke-width: 10;
  stroke-linecap: round;
  transition: stroke-dashoffset 0.6s cubic-bezier(.2,.9,.3,1);
}

/* Macro progress */
.macro-progress-bar{
  height: 8px;
  background: #f1f5f9;
  border-radius: 9999px;
  overflow:hidden;
}
.macro-progress-fill{
  height:100%;
  border-radius:9999px;
  transition: width 0.5s ease;
  background: linear-gradient(90deg, var(--mp-orange-600) 0%, var(--mp-orange-400) 100%);
}

/* Day picker horizontal scroll */
.day-picker{
  display:flex;
  gap:0.5rem;
  overflow-x:auto;
  padding: 0.5rem 0;
  -webkit-overflow-scrolling: touch;
}
.day-picker::-webkit-scrollbar{ display:none; }
.day-chip{
  flex:0 0 auto;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  width:3.2rem;
  height:3.6rem;
  border-radius: 10px;
  text-align:center;
  transition: transform .18s ease, box-shadow .18s ease;
  background: rgba(255,255,255,0.12);
  backdrop-filter: blur(6px);
  color: rgba(255,255,255,0.88);
  font-size: .85rem;
  min-width: 3.2rem;
}
.day-chip:active{ transform: translateY(2px); }
.day-chip.active{
  background: linear-gradient(135deg, var(--mp-orange-600), var(--mp-orange-500));
  color: #fff;
  box-shadow: 0 6px 22px rgba(230,120,60,0.28);
  transform: translateY(-2px);
}

/* Meal card */
.meal-card{
  background: var(--mp-card-bg);
  border-radius: 14px;
  padding: 12px;
  display:flex;
  gap:12px;
  align-items:flex-start;
  box-shadow: 0 10px 30px rgba(2,6,23,0.06);
  border: 1px solid rgba(14,20,30,0.04);
}
.meal-image{
  width:64px;
  height:64px;
  border-radius: 10px;
  background:#f3f4f6;
  object-fit:cover;
  flex-shrink:0;
}
.meal-body{ flex:1; min-width:0; } /* allow truncation */

.meal-title{ font-weight:600; font-size: var(--fs-md); color: #0b1220; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.meal-meta{ color: var(--mp-muted); font-size: var(--fs-sm); margin-top:4px; }

/* Buttons */
.meal-btn{
  padding: 8px 12px;
  border-radius: 9999px;
  font-size: var(--fs-sm);
  font-weight: 600;
  cursor:pointer;
  border: none;
  min-height: var(--min-touch);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  transition: transform .12s ease, box-shadow .12s ease;
}
.meal-btn:active{ transform: translateY(1px); }
.meal-btn-primary{
  background: linear-gradient(135deg, var(--mp-orange-600), var(--mp-orange-500));
  color: #fff;
  box-shadow: 0 6px 18px rgba(230,120,60,0.16);
}
.meal-btn-secondary{
  background: linear-gradient(135deg, hsl(40,95%,50%), var(--mp-orange-400));
  color: #fff;
}

/* Bottom nav â€” improved safe area and responsive */
.member-bottom-nav{
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  display:flex;
  justify-content:space-around;
  align-items:center;
  z-index: 60;
  background: linear-gradient(135deg, var(--mp-orange-600), var(--mp-accent));
  padding: 10px 16px;
  padding-bottom: calc(10px + env(safe-area-inset-bottom, 0px));
  border-top-left-radius: 18px;
  border-top-right-radius: 18px;
  box-shadow: 0 -8px 24px rgba(2,6,23,0.18);
}

/* Nav items */
.member-nav-item{
  display:flex;
  align-items:center;
  gap:8px;
  padding: 8px 12px;
  border-radius:9999px;
  transition: transform .12s ease, background .12s ease;
  color: rgba(255,255,255,0.9);
  font-weight:600;
  font-size: .9rem;
}
.member-nav-item:active{ transform: translateY(1px); }
.member-nav-item.active{
  background: #fff;
  color: var(--mp-orange-600);
  box-shadow: 0 6px 18px rgba(0,0,0,0.12);
}

/* edit button */
.edit-btn{
  padding: 8px 14px;
  border-radius:9999px;
  font-size: var(--fs-sm);
  font-weight:600;
  background: rgba(255,255,255,0.98);
  color: hsl(15,80%,35%);
  box-shadow: 0 6px 18px rgba(0,0,0,0.06);
}

/* Titles and links */
.section-title{
  color: hsl(15,80%,25%);
  font-weight:700;
  font-size: var(--fs-md);
}
.details-link{
  color: hsl(15,70%,40%);
  font-size: var(--fs-sm);
  font-weight:500;
  display:inline-flex;
  align-items:center;
  gap:6px;
}

/* small helpers */
.text-member-primary{ color: var(--mp-orange-600); }
.bg-member-primary{ background: linear-gradient(135deg, hsl(15,85%,45%), var(--mp-orange-600)); }
.text-member-dark{ color: hsl(15,80%,25%); }

/* RESPONSIVE TWEAKS */
@media (max-width: 640px){
  .calorie-ring{ width: 96px; height: 96px; }
  .meal-image{ width:56px; height:56px; }
  .member-card{ padding: 12px; border-radius: 14px; }
  .member-header{ padding: 0.5rem 0.75rem; }
  .member-nav-item{ padding: 8px 10px; font-size:.85rem }
  .day-chip{ width:3rem; height:3.2rem; font-size:.78rem; }
}

@media (min-width: 1200px){
  .calorie-ring{ width: 140px; height: 140px; }
  .meal-image{ width:84px; height:84px; }
}

/* Accessibility focus styles */
:focus{ outline: none; box-shadow: 0 0 0 3px rgba(255,180,120,0.14); border-radius: 8px; }
button:focus{ outline: none; box-shadow: 0 0 0 4px rgba(255,180,120,0.14); }
